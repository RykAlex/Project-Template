.spoiler {
	display: grid;

	%transition {
		@include transition-base;
	}

	&__inner {
		display: flex;
		flex-direction: column;
	}

	&__toggler {
		cursor: pointer;
		user-select: none;
		pointer-events: all;
	}

	&__controller {
		position: absolute;
		width: 0;
		height: 0;
	}

	&__content {
		flex-basis: var(--initial-height, 0%);
		flex-shrink: 1;
		flex-grow: 0;
		overflow: hidden;
		@extend %transition;
	}

	&__flipper {
		@extend %transition;
	}

	&__controller:disabled ~ &__inner > &__toggler {
		pointer-events: none;
	}

	&__controller:checked ~ &__inner > &__content {
		flex-grow: 1;
	}

	&__controller:checked ~ &__inner &__flipper {
		transform: scaleY(-1);
	}

	&__controller:checked ~ &__inner &__initial {
		display: none;
	}

	&__controller:checked ~ &__inner &__final {
		display: block;
	}

	&__controller:not(:checked) ~ &__inner &__initial {
		display: block;
	}

	&__controller:not(:checked) ~ &__inner &__final {
		display: none;
	}
}